// Code generated by cmd/codegen; DO NOT EDIT.
package {{ .Package }}

import "github.com/OCharnyshevich/minecraft-server/internal/gamedata"

type blockRegistry struct {
	byID   map[int]gamedata.Block
	byName map[string]gamedata.Block
	all    []gamedata.Block
}

func newBlockRegistry() gamedata.BlockRegistry {
	all := []gamedata.Block{
		{{- range .Data }}
		{
			ID: {{ .ID }},
			Name: {{ printf "%q" .Name }},
			DisplayName: {{ printf "%q" .DisplayName }},
			{{- if .Hardness }}
			Hardness: ptrFloat64({{ .Hardness }}),
			{{- end }}
			StackSize: {{ .StackSize }},
			Diggable: {{ .Diggable }},
			BoundingBox: {{ printf "%q" .BoundingBox }},
			{{- if .Material }}
			Material: {{ printf "%q" .Material }},
			{{- end }}
			Transparent: {{ .Transparent }},
			EmitLight: {{ .EmitLight }},
			FilterLight: {{ .FilterLight }},
			Resistance: {{ .Resistance }},
			{{- if .Drops }}
			Drops: []gamedata.Drop{
				{{- range .Drops }}
				{ID: {{ .ID }}, Metadata: {{ .Metadata }}, MinCount: {{ .MinCount }}, MaxCount: {{ .MaxCount }}},
				{{- end }}
			},
			{{- end }}
			{{- if .HarvestTools }}
			HarvestTools: map[int]bool{
				{{- range $k, $v := .HarvestTools }}
				{{ $k }}: {{ $v }},
				{{- end }}
			},
			{{- end }}
			{{- if .Variations }}
			Variations: []gamedata.Variation{
				{{- range .Variations }}
				{Metadata: {{ .Metadata }}, DisplayName: {{ printf "%q" .DisplayName }}},
				{{- end }}
			},
			{{- end }}
		},
		{{- end }}
	}

	byID := make(map[int]gamedata.Block, len(all))
	byName := make(map[string]gamedata.Block, len(all))
	for _, b := range all {
		byID[b.ID] = b
		byName[b.Name] = b
	}

	return &blockRegistry{byID: byID, byName: byName, all: all}
}

func (r *blockRegistry) ByID(id int) (gamedata.Block, bool)       { v, ok := r.byID[id]; return v, ok }
func (r *blockRegistry) ByName(name string) (gamedata.Block, bool) { v, ok := r.byName[name]; return v, ok }
func (r *blockRegistry) All() []gamedata.Block                     { return r.all }
